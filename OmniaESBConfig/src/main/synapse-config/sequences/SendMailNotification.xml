<?xml version="1.0" encoding="UTF-8"?>
<sequence name="SendMailNotification" trace="disable" xmlns="http://ws.apache.org/ns/synapse">

<property name="Subject" scope="transport" type="STRING" value="Alert Message From WSO2"/>
    <filter regex="false" source="boolean($ctx:notificationContent)">
        <then>
            <property name="notificationContent" scope="default" type="STRING" value="{Placeholder Data}"/>
        </then>
        <else/>
    </filter>
   <log level="full" />
	 <payloadFactory description="Notification" media-type="xml">
        <format key="NotificationMailTemplate"/>
       
    </payloadFactory>
       <property expression="$ctx:notificationEmails" name="notificationEmailAddresses" scope="default" type="STRING"/>
    <property name="OUT_ONLY" scope="default" type="STRING" value="true"/>
    <property name="messageType" scope="axis2" type="STRING" value="text/html"/>
    <property name="contentType" scope="axis2" type="STRING" value="text/html"/>
    <property description="URI.VAR.FULL" expression="$ctx:notificationEmails" name="uri.var.full" scope="default" type="STRING"/>
    <property description="URI.VAR.METHOD" name="uri.var.method" scope="default" type="STRING" value="POST"/>
  
</sequence>
